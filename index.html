<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> –ü—Ä–∏–≤—ã–∫–Ω–∏ –∫ –ê–ø–ø–∞—Ä–∞—Ç—É </title>
    <style>
        /* –ø—Ä–∏–≤—ã–∫–Ω–∏ –∫ –∞–ø–ø–∞—Ä—Ç—É */
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background-color: #1e1e1e;
            color: #ffffff;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        label {
            display: block;
            font-weight: bold;
            margin-top: 10px;
            color: #63c5da; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è label */
        }

        textarea {
            width: 100%;
            height: 100px;
            background-color: #282c34; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ textarea */
            color: #ffffff; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ textarea */
            border: 2px solid #63c5da; /* –¶–≤–µ—Ç —Ä–∞–º–∫–∏ textarea */
        }

        input[type="number"] {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            background-color: #282c34; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ input */
            color: #ffffff; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ input */
            border: 2px solid #63c5da; /* –¶–≤–µ—Ç —Ä–∞–º–∫–∏ input */
        }

        input[type="password"] {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            background-color: #282c34; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ input –¥–ª—è –ø–∞—Ä–æ–ª—è */
            color: #ffffff; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ input –¥–ª—è –ø–∞—Ä–æ–ª—è */
            border: 2px solid #63c5da; /* –¶–≤–µ—Ç —Ä–∞–º–∫–∏ input –¥–ª—è –ø–∞—Ä–æ–ª—è */
        }

        button {
            display: block;
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #63c5da; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–Ω–æ–ø–∫–∏ */
            color: #000000; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏ */
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #51b5c5; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        #result {
            width: 100%;
            height: 100px;
            background-color: #282c34; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ textarea —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º */
            color: #ffffff; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ textarea —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º */
            border: 2px solid #63c5da; /* –¶–≤–µ—Ç —Ä–∞–º–∫–∏ textarea —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º */
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–ü—Ä–∏–≤—ã–∫–Ω–∏ –∫ –ê–ø–ø–∞—Ä–∞—Ç—É</h1>
        <label for="password">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</label>
        <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
        <label for="text">–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç:</label>
        <textarea id="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å —Ü–µ–Ω–∞–º–∏"></textarea>
        <label for="percentage">–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è:</label>
        <input type="number" id="percentage" placeholder="–ü—Ä–æ—Ü–µ–Ω—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è">
        <button onclick="onIncreasePercentage()">–£–≤–µ–ª–∏—á–∏—Ç—å —Ü–µ–Ω—ã</button>
        <button onclick="pasteFromClipboard()">–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑ –±—É—Ñ–µ—Ä–∞</button>
        <button onclick="copyWithoutSymbol()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ '‚ÇΩ'</button>
        <label for="result">–†–µ–∑—É–ª—å—Ç–∞—Ç:</label>
        <textarea id="result" readonly></textarea>
    </div>

    <script>
        // JavaScript-—Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞

        // –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è
        function checkPassword() {
            const enteredPassword = document.getElementById('password').value;
            // –ó–¥–µ—Å—å –∑–∞–º–µ–Ω–∏—Ç–µ "–í–∞—à–ü–∞—Ä–æ–ª—å" –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
            const realPassword = "060793";
            return enteredPassword === realPassword;
        }

        function extractPrices(text) {
            const mainPattern = /(?<!\d)(\d{1,3}(?:,\d{3})*(?:\.\d{1,2})?)(?:‚ÇΩüá®üá≥)?/g;
            const fourDigitPattern = /(?<!\d)(\d{4})(?!\d)(?:\s*‚ÇΩ)?/g;
            const fiveOrMoreDigitPattern = /(?<!\d)(\d{5,})(?!\d)(?:\s*‚ÇΩ)?/g;
            const allPrices = [];

            let matches = text.match(mainPattern);
            if (matches) {
                matches.forEach(match => {
                    if (!match.includes('(')) {
                        const formattedPrice = parseFloat(match.replace(/,|\s|‚ÇΩ/g, ''));
                        allPrices.push(formattedPrice.toFixed(2) + '‚ÇΩ');
                    }
                });
            }

            matches = text.match(fourDigitPattern);
            if (matches) {
                allPrices.push(...matches);
            }

            matches = text.match(fiveOrMoreDigitPattern);
            if (matches) {
                allPrices.push(...matches);
            }

            return allPrices;
        }

        function increasePrices(prices, percentage) {
            const increasedPrices = [];
            for (const price of prices) {
                const originalPrice = parseFloat(price.replace(/‚ÇΩ|,|\s/g, ''));
                const increasedPrice = Math.ceil(originalPrice * (1 + percentage / 100) / 100) * 100;
                increasedPrices.push(increasedPrice.toLocaleString() + '‚ÇΩ');
            }
            return increasedPrices;
        }

        function onIncreasePercentage() {
            if (!checkPassword()) {
                alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å! –í–≤–µ–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏.');
                return;
            }

            const inputText = document.getElementById('text').value;
            const percentage = parseFloat(document.getElementById('percentage').value);
            const resultPrices = extractPrices(inputText);
            const increasedPrices = increasePrices(resultPrices, percentage);
            const resultTextArea = document.getElementById('result');
            let formattedText = inputText;
            increasedPrices.forEach((price, index) => {
                formattedText = formattedText.replace(resultPrices[index], price);
            });
            resultTextArea.value = formattedText;
        }

        function pasteFromClipboard() {
            navigator.clipboard.readText().then((text) => {
                const textWithoutDots = text.replace(/\./g, ''); // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Ç–æ—á–∫–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞
                document.getElementById('text').value = textWithoutDots;
            }).catch((error) => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∏–∑ –±—É—Ñ–µ—Ä–∞: ', error);
            });
        }

        function copyWithoutSymbol() {
            const resultText = document.getElementById('result').value;
            const textWithoutSymbol = resultText.replace(/‚ÇΩ/g, '');
            navigator.clipboard.writeText(textWithoutSymbol).then(() => {
                alert('–¢–µ–∫—Å—Ç –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ "‚ÇΩ" —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.');
            }).catch((error) => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞: ', error);
            });
        }
    </script>
</body>
</html>


