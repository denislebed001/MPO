<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¢–µ–∫—Å—Ç–∞</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f2f2f7;
            color: #000;
            padding: 20px;
        }
        h1 {
            color: #007aff;
        }
        textarea {
            width: 100%;
            height: 150px;
            margin-bottom: 10px;
            border: none;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);
            background-color: #fff;
        }
        button {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            background-color: #007aff;
            color: white;
            border: none;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        button:active {
            background-color: #0051a8;
         }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ –æ–∫–Ω–∞ –≤–≤–æ–¥–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ */
        .percentage-input-container {
            margin-bottom: 10px;
        }
        .percentage-input-container input {
            width: calc(100% - 120px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-right: 10px;
        }
        .percentage-input-container button {
            width: 100px;
            padding: 10px;
            border-radius: 5px;
            background-color: #007aff;
            color: white;
            border: none;
        }
        <div style="margin-bottom: 10px;">
    <input type="number" id="percentage" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è..." style="width: calc(100% - 120px); padding: 10px; border-radius: 5px; border: 1px solid #ccc; margin-right: 10px;">
    <button onclick="onIncreasePercentage()" style="width: 100px; padding: 10px; border-radius: 5px; background-color: #007aff; color: white; border: none;">–¶–µ–Ω–∞</button>
</div>
    </style>
</head>
<body>
    <h1>OneSecond</h1>
    <textarea id="inputText" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å..."></textarea>
    <button onclick="copyToClipboard()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="pasteFromClipboard()">–í—Å—Ç–∞–≤–∏—Ç—å</button>
    <button onclick="formatText()">–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="replaceYearFormat()">–ó–∞–º–µ–Ω–∏—Ç—å –≥–æ–¥</button>
    <button onclick="reverseYearFormat()">–í–µ—Ä–Ω—É—Ç—å –≥–æ–¥</button>
    <!-- –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ "–ê–Ω–¥—Ä–æ–π–¥" -->
    <button onclick="cleanAndroidText()">–ê–Ω–¥—Ä–æ–π–¥</button>
    <button onclick="removeNonFlagEmojis()">–£–¥–∞–ª–∏—Ç—å —ç–º–æ–¥–∑–∏</button>
    <textarea id="outputText" placeholder="–û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –∑–¥–µ—Å—å..."></textarea>

    <script>
        function copyToClipboard() {
            const outputText = document.getElementById('outputText');
            outputText.select();
            document.execCommand('copy');
        }

        function pasteFromClipboard() {
            navigator.clipboard.readText().then(text => {
                document.getElementById('inputText').value = text;
            }).catch(err => {
                console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç: ', err);
            });
        }

        function formatText() {
            const inputText = document.getElementById('inputText').value;
            const lines = inputText
                .replace(/–æ—Ç \d+—à—Ç\. -> /g, '')
                .replace(/ —Ä—É–±\./g, '')
                .trim()
                .split('\n');
            let formattedText = '';
            for (let i = 0; i < lines.length; i++) {
                if (lines[i] && !isNaN(lines[i + 1])) {
                    formattedText += lines[i] + ' ' + lines[i + 1] + '\n';
                    i++;
                } else if (lines[i]) {
                    formattedText += lines[i] + '\n';
                }
            }
            document.getElementById('outputText').value = formattedText.trim();
        }

        function replaceYearFormat() {
            const inputText = document.getElementById('inputText').value;
            const replacedText = inputText
                .replace(/\(2023\)/g, '2Ô∏è‚É£3Ô∏è‚É£')
                .replace(/2023/g, '2Ô∏è‚É£3Ô∏è‚É£')
                .replace(/\(2022\)/g, '2Ô∏è‚É£2Ô∏è‚É£')
                .replace(/2022/g, '2Ô∏è‚É£2Ô∏è‚É£');
            document.getElementById('inputText').value = replacedText;
        }

        function reverseYearFormat() {
            const inputText = document.getElementById('inputText').value;
            const reversedText = inputText
                .replace(/2Ô∏è‚É£3Ô∏è‚É£/g, '2023')
                .replace(/2Ô∏è‚É£2Ô∏è‚É£/g, '2022');
            document.getElementById('inputText').value = reversedText;
        }

        // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è "cleanAndroidText"
     function cleanAndroidText() {
    const inputText = document.getElementById('inputText').value;
    const cleanedText = inputText
        .replace(/‚Äî‚Äî‚Äî/g, '')
        .replace(/‚ÇΩ[1-9]?/g, '')
        .replace(/‚Äî/g, '')
        .replace(/\*/g, '');
    document.getElementById('outputText').value = cleanedText;
}
        
function removeNonFlagEmojis() {
    const inputText = document.getElementById('inputText').value;
    // –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö —ç–º–æ–¥–∑–∏, –∫—Ä–æ–º–µ —Ñ–ª–∞–≥–æ–≤ —Å—Ç—Ä–∞–Ω
    const emojiRegex = /(\p{Emoji_Presentation}|\p{Extended_Pictographic})(?<!\p{Regional_Indicator})/gu;
    const cleanedText = inputText.replace(emojiRegex, '');
    document.getElementById('outputText').value = cleanedText;
}
        <script>
    function extractPrices(text) {
        const mainPattern = /(?<!\d)(\d{1,3}(?:,\d{3})*(?:\.\d{1,2})?)(?:‚ÇΩüá®üá≥)?/g;
        const fourDigitPattern = /(?<!\d)(\d{4})(?!\d)(?:\s*‚ÇΩ)?/g;
        const fiveOrMoreDigitPattern = /(?<!\d)(\d{5,})(?!\d)(?:\s*‚ÇΩ)?/g;
        const allPrices = [];

        let matches = text.match(mainPattern);
        if (matches) {
            matches.forEach(match => {
                if (!match.includes('(')) {
                    const formattedPrice = parseFloat(match.replace(/,|\s|‚ÇΩ/g, ''));
                    allPrices.push(formattedPrice.toFixed(2) + '‚ÇΩ');
                }
            });
        }

        matches = text.match(fourDigitPattern);
        if (matches) {
            allPrices.push(...matches);
        }

        matches = text.match(fiveOrMoreDigitPattern);
        if (matches) {
            allPrices.push(...matches);
        }

        return allPrices;
    }

    function increasePrices(prices, percentage) {
        const increasedPrices = [];
        for (const price of prices) {
            const originalPrice = parseFloat(price.replace(/‚ÇΩ|,|\s/g, ''));
            const increasedPrice = Math.ceil(originalPrice * (1 + percentage / 100) / 100) * 100;
            increasedPrices.push(increasedPrice.toLocaleString() + '‚ÇΩ');
        }
        return increasedPrices;
    }

    function onIncreasePercentage() {
        const inputText = document.getElementById('inputText').value;
        const percentage = parseFloat(document.getElementById('percentage').value);
        const resultPrices = extractPrices(inputText);
        const increasedPrices = increasePrices(resultPrices, percentage);
        const resultTextArea = document.getElementById('outputText');
        let formattedText = inputText;
        increasedPrices.forEach((price, index) => {
            formattedText = formattedText.replace(resultPrices[index], price);
        });
        resultTextArea.value = formattedText;
    }

    function pasteFromClipboard() {
        navigator.clipboard.readText().then((text) => {
            const textWithoutDots = text.replace(/\./g, ''); // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Ç–æ—á–∫–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞
            document.getElementById('inputText').value = textWithoutDots;
        }).catch((error) => {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∏–∑ –±—É—Ñ–µ—Ä–∞: ', error);
        });
    }

    function copyWithoutSymbol() {
        const resultText = document.getElementById('outputText').value;
        const textWithoutSymbol = resultText.replace(/‚ÇΩ/g, '');
        navigator.clipboard.writeText(textWithoutSymbol).then(() => {
            alert('–¢–µ–∫—Å—Ç –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ "‚ÇΩ" —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.');
        }).catch((error) => {
            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞: ', error);
        });
    }
</script>

        
    </script>
</body>
</html>
