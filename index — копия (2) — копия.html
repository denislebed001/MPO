from flask import Flask, request, render_template_string

app = Flask(__name__)

@app.route('/', methods=['GET', 'POST'])
def format_text():
    if request.method == 'POST':
        text = request.form['text']
        formatted_text = ''
        # Разделяем текст на строки и обрабатываем каждую из них
        for line in text.split('\n'):
            if '->' in line:
                # Убираем лишние слова и символы, оставляем только нужное
                parts = line.split('->')
                item = parts[0].strip()
                price = parts[1].strip().split(' ')[0]
                formatted_text += f'{item} {price}\n'
        return render_template_string(TEMPLATE, formatted_text=formatted_text)
    return render_template_string(TEMPLATE)

TEMPLATE = '''
<!doctype html>
<title>Text Formatter</title>
<h1>Simple Text Formatter</h1>
<form method=post>
  <textarea name=text style="width:400px;height:150px;"></textarea><br>
  <input type=submit value="Format">
</form>
{% if formatted_text %}
<h2>Formatted Text:</h2>
<pre>{{ formatted_text }}</pre>
{% endif %}
'''

if name == '__main__':
    app.run(debug=True)
